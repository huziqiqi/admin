!function (e) { function t(r) { if (o[r]) return o[r].exports; var n = o[r] = { i: r, l: !1, exports: {} }; return e[r].call(n.exports, n, n.exports, t), n.l = !0, n.exports } var o = {}; t.m = e, t.c = o, t.d = function (e, o, r) { t.o(e, o) || Object.defineProperty(e, o, { configurable: !1, enumerable: !0, get: r }) }, t.n = function (e) { var o = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(o, "a", o), o }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "", t(t.s = 0) }([function (e, t, o) { o(1), e.exports = o(2) }, function (e, t) { !function (e) { function t() { this.handleLogInfo = function (e, t) { var o = localStorage[e] ? localStorage[e] : ""; switch (e) { case j: localStorage[j] = o + JSON.stringify(t) + "$$$"; break; case C: localStorage[C] = o + JSON.stringify(t) + "$$$"; break; case R: localStorage[R] = o + JSON.stringify(t) + "$$$"; break; case B: localStorage[B] = o + JSON.stringify(t) + "$$$"; break; case A: localStorage[A] = o + JSON.stringify(t) + "$$$"; break; case N: localStorage[N] = o + JSON.stringify(t) + "$$$"; break; case D: localStorage[D] = o + JSON.stringify(t) + "$$$"; break; case V: localStorage[V] = o + JSON.stringify(t) + "$$$" } } } function o() { this.happenTime = (new Date).getTime(), this.webMonitorId = T, this.simpleUrl = e.location.href.split("?")[0].replace("#", ""), this.completeUrl = $.b64EncodeUnicode(encodeURIComponent(e.location.href)), this.customerKey = $.getCustomerKey(); var t = localStorage.wmUserInfo ? JSON.parse(localStorage.wmUserInfo) : ""; this.userId = $.b64EncodeUnicode(t.userId || ""), this.firstUserParam = $.b64EncodeUnicode(t.firstUserParam || ""), this.secondUserParam = $.b64EncodeUnicode(t.secondUserParam || "") } function r(e, t, r) { o.apply(this), this.uploadType = e, this.pageKey = $.getPageKey(), this.deviceName = k.deviceName, this.os = k.os + (k.osVersion ? " " + k.osVersion : ""), this.browserName = k.browserName, this.browserVersion = k.browserVersion, this.monitorIp = "", this.country = "china", this.province = "", this.city = "", this.loadType = t, this.loadTime = r } function n(e, t, r, n, i, a, s, c, l, d, u, h) { o.apply(this), this.uploadType = e, this.loadType = t, this.loadPage = r, this.domReady = n, this.redirect = i, this.lookupDomain = a, this.ttfb = s, this.request = c, this.loadEvent = l, this.appcache = d, this.unloadEvent = u, this.connect = h } function i(e, t, r, n, i, a, s) { o.apply(this), this.uploadType = e, this.behaviorType = t, this.className = $.b64EncodeUnicode(r), this.placeholder = $.b64EncodeUnicode(n), this.inputValue = $.b64EncodeUnicode(i), this.tagName = a, this.innerText = $.b64EncodeUnicode(encodeURIComponent(s)) } function a(e, t, r, n) { o.apply(this), this.uploadType = e, this.infoType = t, this.pageKey = $.getPageKey(), this.deviceName = k.deviceName, this.os = k.os + (k.osVersion ? " " + k.osVersion : ""), this.browserName = k.browserName, this.browserVersion = k.browserVersion, this.monitorIp = "", this.country = "china", this.province = "", this.city = "", this.errorMessage = $.b64EncodeUnicode(r), this.errorStack = $.b64EncodeUnicode(n), this.browserInfo = "" } function s(e, t, r, n, i, a, s) { o.apply(this), this.uploadType = e, this.httpUrl = $.b64EncodeUnicode(encodeURIComponent(t)), this.status = r, this.statusText = n, this.statusResult = i, this.happenTime = a, this.loadTime = s } function c(e, t, r, n) { o.apply(this), this.uploadType = e, this.description = $.b64EncodeUnicode(t), this.screenInfo = r, this.imgType = n || "jpeg" } function l(e, t, r, n) { o.apply(this), this.uploadType = e, this.elementType = r, this.sourceUrl = $.b64EncodeUnicode(encodeURIComponent(t)), this.status = n } function d(e, t, o, r, n) { this.userId = e, this.behaviorType = t, this.behaviorResult = o, this.uploadType = r, this.description = n, this.happenTime = (new Date).getTime() } function u() { var t = e.location.href.split("?")[0].replace("#", ""); S != t && (h(), S = t) } function h() { $.setPageKey(); var e = "load"; x && (e = x[0] && "navigate" === x[0].type ? "load" : "reload"); var t = new r(A, e, 0); t.handleLogInfo(A, t) } function f() { $.addLoadEvent(function () { setTimeout(function () { if (x) { var e = "load"; e = x[0] && "navigate" === x[0].type ? "load" : "reload"; var t = E, o = new n(N); o.loadType = e, o.loadPage = t.loadEventEnd - t.navigationStart, o.domReady = t.domComplete - t.responseEnd, o.redirect = t.redirectEnd - t.redirectStart, o.lookupDomain = t.domainLookupEnd - t.domainLookupStart, o.ttfb = t.responseStart - t.navigationStart, o.request = t.responseEnd - t.requestStart, o.loadEvent = t.loadEventEnd - t.loadEventStart, o.appcache = t.domainLookupStart - t.fetchStart, o.unloadEvent = t.unloadEventEnd - t.unloadEventStart, o.connect = t.connectEnd - t.connectStart, o.handleLogInfo(N, o) } }, 1e3) }) } function p() { e.addEventListener("error", function (e) { var t = e.target.localName, o = ""; "link" === t ? o = e.target.href : "script" === t && (o = e.target.src); var r = new l(D, o, t, "0"); r.handleLogInfo(D, r) }, !0) } function y(e, t, o, r, n, i) { u(); var s = t || "", c = i || "", l = ""; if (s) if ("string" == typeof c) l = c.split(": ")[0].replace('"', ""); else { var d = JSON.stringify(c); l = d.split(": ")[0].replace('"', "") } var h = new a(C, e, l + ": " + s, c); h.handleLogInfo(C, h) } function m() { var t = console.error; console.error = function (e) { var o = arguments[0] && arguments[0].message || e, r = arguments[0] && arguments[0].stack; return r ? y("console_error", o, _, 0, 0, r) : y("console_error", o, _, 0, 0, "CustomizeError: " + o), t.apply(console, arguments) }, e.onerror = function (e, t, o, r, n) { w = !0, y("on_error", e, t, o, r, n ? n.stack : null) }, e.onunhandledrejection = function (e) { var t = "", o = ""; "object" == typeof e.reason ? (t = e.reason.message, o = e.reason.stack) : (t = e.reason, o = ""), y("on_error", t, _, 0, 0, "UncaughtInPromiseError: " + o) } } function g() { function t(t) { var o = new CustomEvent(t, { detail: this }); e.dispatchEvent(o) } function o() { var e = new r; return e.addEventListener("abort", function () { t.call(this, "ajaxAbort") }, !1), e.addEventListener("error", function () { t.call(this, "ajaxError") }, !1), e.addEventListener("load", function () { t.call(this, "ajaxLoad") }, !1), e.addEventListener("loadstart", function () { t.call(this, "ajaxLoadStart") }, !1), e.addEventListener("progress", function () { t.call(this, "ajaxProgress") }, !1), e.addEventListener("timeout", function () { t.call(this, "ajaxTimeout") }, !1), e.addEventListener("loadend", function () { t.call(this, "ajaxLoadEnd") }, !1), e.addEventListener("readystatechange", function () { t.call(this, "ajaxReadyStateChange") }, !1), e } var r = e.XMLHttpRequest, n = []; e.XMLHttpRequest = o, e.addEventListener("ajaxLoadStart", function (e) { var t = { timeStamp: (new Date).getTime(), event: e }; n.push(t) }), e.addEventListener("ajaxLoadEnd", function () { for (var e = 0; e < n.length; e++)if (n[e].event.detail.status > 0) { var t = (new Date).getTime(), o = n[e].event.detail.responseURL, r = n[e].event.detail.status, i = n[e].event.detail.statusText, a = t - n[e].timeStamp; if (!o || -1 != o.indexOf(L)) return; var c = new s(R, o, r, i, "发起请求", n[e].timeStamp, 0); c.handleLogInfo(R, c); var l = new s(R, o, r, i, "请求返回", t, a); l.handleLogInfo(R, l), n.splice(e, 1) } }) } function b(e) { e && e.record && 1 == e.record && (u(), document.onclick = function (e) { var t = "", o = "", r = "", n = e.target.tagName, a = ""; "svg" != e.target.tagName && "use" != e.target.tagName && (t = e.target.className, o = e.target.placeholder || "", r = e.target.value || "", a = e.target.innerText ? e.target.innerText.replace(/\s*/g, "") : "", a.length > 200 && (a = a.substring(0, 100) + "... ..." + a.substring(a.length - 99, a.length - 1)), a = a.replace(/\s/g, "")); var s = new i(j, "click", t, o, r, n, a); s.handleLogInfo(j, s) }) } function v() { this.getUuid = function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) { var t = 16 * Math.random() | 0; return ("x" == e ? t : 3 & t | 8).toString(16) }) }, this.getCustomerKey = function () { var e = this.getUuid(); return localStorage.monitorCustomerKey || (localStorage.monitorCustomerKey = e), localStorage.monitorCustomerKey }, this.getPageKey = function () { var e = this.getUuid(); return localStorage.monitorPageKey || (localStorage.monitorPageKey = e), localStorage.monitorPageKey }, this.setPageKey = function () { localStorage.monitorPageKey = this.getUuid() }, this.addLoadEvent = function (t) { var o = e.onload; "function" != typeof e.onload ? e.onload = t : e.onload = function () { o(), t() } }, this.ajax = function (t, o, r, n, i) { var a = e.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"); a.open(t, o, !0), a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), a.onreadystatechange = function () { if (4 == a.readyState && 200 == a.status) { var e = JSON.parse(a.responseText); "function" == typeof n && n(e) } else "function" == typeof i && i() }, a.send("data=" + JSON.stringify(r)) }, this.screenShot = function (t, o) { var r = t, n = r.offsetWidth, i = r.offsetHeight, a = document.createElement("canvas"); a.style.display = "none", a.width = .3 * n, a.height = .3 * i, a.getContext("2d").scale(.3, .3); var s = { scale: .3, canvas: a, logging: !1, width: n, height: i, useCORS: !0 }; e.html2canvas && e.html2canvas(t, s).then(function (e) { var t = e.toDataURL("image/webp"), r = t.replace("data:image/webp;base64,", ""), n = $.b64EncodeUnicode(r), i = new c(B, o, n); i.handleLogInfo(B, i) }) }, this.getDevice = function () { var t = {}, o = navigator.userAgent, r = o.match(/(Android);?[\s\/]+([\d.]+)?/), n = o.match(/(iPad).*OS\s([\d_]+)/), i = o.match(/(iPod)(.*OS\s([\d_]+))?/), a = !n && o.match(/(iPhone\sOS)\s([\d_]+)/), s = o.match(/Android\s[\S\s]+Build\//); if (t.ios = t.android = t.iphone = t.ipad = t.androidChrome = !1, t.isWeixin = /MicroMessenger/i.test(o), t.os = "web", t.deviceName = "PC", r && (t.os = "android", t.osVersion = r[2], t.android = !0, t.androidChrome = o.toLowerCase().indexOf("chrome") >= 0), (n || a || i) && (t.os = "ios", t.ios = !0), a && !i && (t.osVersion = a[2].replace(/_/g, "."), t.iphone = !0), n && (t.osVersion = n[2].replace(/_/g, "."), t.ipad = !0), i && (t.osVersion = i[3] ? i[3].replace(/_/g, ".") : null, t.iphone = !0), t.ios && t.osVersion && o.indexOf("Version/") >= 0 && "10" === t.osVersion.split(".")[0] && (t.osVersion = o.toLowerCase().split("version/")[1].split(" ")[0]), t.iphone) { t.deviceName = "iphone"; var c = e.screen.width, l = e.screen.height; 320 === c && 480 === l ? t.deviceName = "iphone 4" : 320 === c && 568 === l ? t.deviceName = "iphone 5/SE" : 375 === c && 667 === l ? t.deviceName = "iphone 6/7/8" : 414 === c && 736 === l ? t.deviceName = "iphone 6/7/8 Plus" : 375 === c && 812 === l && (t.deviceName = "iphone X/S/Max") } else if (t.ipad) t.deviceName = "ipad"; else if (s) { var d = s[0], u = d.split(";")[1].replace(/Build\//g, ""); t.deviceName = u.replace(/(^\s*)|(\s*$)/g, "") } if (-1 == o.indexOf("Mobile")) { var h = navigator.userAgent.toLowerCase(), f = /msie [\d.]+;/gi, p = /firefox\/[\d.]+/gi, y = /chrome\/[\d.]+/gi, m = /safari\/[\d.]+/gi; if (t.browserName = "未知", h.indexOf("msie") > 0) { var g = h.match(f)[0]; t.browserName = g.split("/")[0], t.browserVersion = g.split("/")[1] } if (h.indexOf("firefox") > 0) { var g = h.match(p)[0]; t.browserName = g.split("/")[0], t.browserVersion = g.split("/")[1] } if (h.indexOf("safari") > 0 && h.indexOf("chrome") < 0) { var g = h.match(m)[0]; t.browserName = g.split("/")[0], t.browserVersion = g.split("/")[1] } if (h.indexOf("chrome") > 0) { var g = h.match(y)[0]; t.browserName = g.split("/")[0], t.browserVersion = g.split("/")[1] } } return t.webView = (a || n || i) && o.match(/.*AppleWebKit(?!.*Safari)/i), t }, this.loadJs = function (e, t) { var o = document.createElement("script"); o.async = 1, o.src = e, o.onload = t; var r = document.getElementsByTagName("script")[0]; return r.parentNode.insertBefore(o, r), r }, this.b64EncodeUnicode = function (e) { try { return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function (e, t) { return String.fromCharCode("0x" + t) })) } catch (t) { return e } } } localStorage || (e.localStorage = new Object), localStorage.wmUserInfo = ""; var w = !1, S = e.location.href.split("?")[0].replace("#", ""), E = performance && performance.timing, x = function () { return performance && "function" == typeof performance.getEntries ? performance.getEntries() : null }(), T = "1559209964909", U = -1 === e.location.href.indexOf("https") ? "http://" : "https://", _ = e.location.href, O = -1 == _.indexOf("localhost") ? U + "www.webfunny.cn" : U + "localhost:8010", L = "/api/v1/upLg", I = O + "/api/v1/upLg", P = O + "", A = "CUSTOMER_PV", N = "LOAD_PAGE", R = "HTTP_LOG", C = "JS_ERROR", B = "SCREEN_SHOT", j = "ELE_BEHAVIOR", D = "RESOURCE_LOAD", V = "CUSTOMIZE_BEHAVIOR", $ = (e.navigator.userAgent, new v), k = $.getDevice(), H = (localStorage.wmUserInfo && JSON.parse(localStorage.wmUserInfo), document.getElementById("web_monitor")); if (H) try { var M = H.getAttribute("src"), q = M.split("?")[1].split("=")[1]; T = q } catch (e) { console.warn("应用初始化标识未完成") } r.prototype = new t, n.prototype = new t, i.prototype = new t, a.prototype = new t, s.prototype = new t, c.prototype = new t, l.prototype = new t, d.prototype = new t, function () { try { p(), h(), f(), b({ record: 1 }), m(), g(); var e = 0; setInterval(function () { if (u(), e >= 25) { var t = (localStorage[j] || "") + (localStorage[C] || "") + (localStorage[R] || "") + (localStorage[B] || "") + (localStorage[A] || "") + (localStorage[N] || "") + (localStorage[D] || "") + (localStorage[V] || ""); t && (localStorage[j] = "", localStorage[C] = "", localStorage[R] = "", localStorage[B] = "", localStorage[A] = "", localStorage[N] = "", localStorage[D] = "", localStorage[V] = "", $.ajax("POST", I, { logInfo: t }, function (e) { }, function () { })), e = 0 } e++ }, 200) } catch (e) { console.error("监控代码异常，捕获", e) } }(), e.webfunny = { wm_upload: function (t, o, r, n) { var i = (new Date).toString(), a = { createTime: encodeURIComponent(i), happenTime: (new Date).getTime(), uploadType: "WM_UPLOAD", simpleUrl: encodeURIComponent(encodeURIComponent(t)), webMonitorId: T, recordType: o, recordIndex: r, description: n }, s = P, c = e.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"); c.open("POST", s, !0), c.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), c.send("data=" + JSON.stringify([a])) }, wm_init_user: function (e, t, o) { return e || console.warn("userId 初始化值为0(不推荐) 或者 未初始化"), t || console.warn("userTag 初始化值为0(不推荐) 或者 未初始化"), o || console.warn("secondParam 初始化值为0(不推荐) 或者 未初始化"), t && (T = t + "_webmonitor"), localStorage.wmUserInfo = JSON.stringify({ userId: e, userTag: t, secondUserParam: o }), 1 }, wm_screen_shot: function (e) { setTimeout(function () { $.screenShot(document.body, e) }, 500) }, wm_upload_picture: function (e, t, o) { var r = new c(B, t, e, o || "jpeg"); r.handleLogInfo(B, r) }, wm_upload_extend_behavior: function (e, t, o, r, n) { var i = new d(e, t, o, r, n); i.handleLogInfo(V, i) } }, function () { function t(e, t) { t = t || { bubbles: !1, cancelable: !1, detail: void 0 }; var o = document.createEvent("CustomEvent"); return o.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), o } if ("function" == typeof e.CustomEvent) return !1; t.prototype = e.Event.prototype, e.CustomEvent = t }() }(window) }, function (e, t) { !function (e) { function t(e) { if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function o(e) { return "string" != typeof e && (e = String(e)), e } function r(e) { var t = { next: function () { var t = e.shift(); return { done: void 0 === t, value: t } } }; return g.iterable && (t[Symbol.iterator] = function () { return t }), t } function n(e) { this.map = {}, e instanceof n ? e.forEach(function (e, t) { this.append(t, e) }, this) : Array.isArray(e) ? e.forEach(function (e) { this.append(e[0], e[1]) }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) { this.append(t, e[t]) }, this) } function i(e) { if (e.bodyUsed) return Promise.reject(new TypeError("Already read")); e.bodyUsed = !0 } function a(e) { return new Promise(function (t, o) { e.onload = function () { t(e.result) }, e.onerror = function () { o(e.error) } }) } function s(e) { var t = new FileReader, o = a(t); return t.readAsArrayBuffer(e), o } function c(e) { var t = new FileReader, o = a(t); return t.readAsText(e), o } function l(e) { for (var t = new Uint8Array(e), o = new Array(t.length), r = 0; r < t.length; r++)o[r] = String.fromCharCode(t[r]); return o.join("") } function d(e) { if (e.slice) return e.slice(0); var t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function u() { return this.bodyUsed = !1, this._initBody = function (e) { if (this._bodyInit = e, e) if ("string" == typeof e) this._bodyText = e; else if (g.blob && Blob.prototype.isPrototypeOf(e)) this._bodyBlob = e; else if (g.formData && FormData.prototype.isPrototypeOf(e)) this._bodyFormData = e; else if (g.searchParams && URLSearchParams.prototype.isPrototypeOf(e)) this._bodyText = e.toString(); else if (g.arrayBuffer && g.blob && v(e)) this._bodyArrayBuffer = d(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]); else { if (!g.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(e) && !w(e)) throw new Error("unsupported BodyInit type"); this._bodyArrayBuffer = d(e) } else this._bodyText = ""; this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : g.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, g.blob && (this.blob = function () { var e = i(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? i(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(s) }), this.text = function () { var e = i(this); if (e) return e; if (this._bodyBlob) return c(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(l(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, g.formData && (this.formData = function () { return this.text().then(p) }), this.json = function () { return this.text().then(JSON.parse) }, this } function h(e) { var t = e.toUpperCase(); return S.indexOf(t) > -1 ? t : e } function f(e, t) { t = t || {}; var o = t.body; if (e instanceof f) { if (e.bodyUsed) throw new TypeError("Already read"); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new n(e.headers)), this.method = e.method, this.mode = e.mode, o || null == e._bodyInit || (o = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "omit", !t.headers && this.headers || (this.headers = new n(t.headers)), this.method = h(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && o) throw new TypeError("Body not allowed for GET or HEAD requests"); this._initBody(o) } function p(e) { var t = new FormData; return e.trim().split("&").forEach(function (e) { if (e) { var o = e.split("="), r = o.shift().replace(/\+/g, " "), n = o.join("=").replace(/\+/g, " "); t.append(decodeURIComponent(r), decodeURIComponent(n)) } }), t } function y(e) { var t = new n; return e.split(/\r?\n/).forEach(function (e) { var o = e.split(":"), r = o.shift().trim(); if (r) { var n = o.join(":").trim(); t.append(r, n) } }), t } function m(e, t) { t || (t = {}), this.type = "default", this.status = "status" in t ? t.status : 200, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new n(t.headers), this.url = t.url || "", this._initBody(e) } var g = { searchParams: "URLSearchParams" in e, iterable: "Symbol" in e && "iterator" in Symbol, blob: "FileReader" in e && "Blob" in e && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), formData: "FormData" in e, arrayBuffer: "ArrayBuffer" in e }; if (g.arrayBuffer) var b = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], v = function (e) { return e && DataView.prototype.isPrototypeOf(e) }, w = ArrayBuffer.isView || function (e) { return e && b.indexOf(Object.prototype.toString.call(e)) > -1 }; n.prototype.append = function (e, r) { e = t(e), r = o(r); var n = this.map[e]; this.map[e] = n ? n + "," + r : r }, n.prototype.delete = function (e) { delete this.map[t(e)] }, n.prototype.get = function (e) { return e = t(e), this.has(e) ? this.map[e] : null }, n.prototype.has = function (e) { return this.map.hasOwnProperty(t(e)) }, n.prototype.set = function (e, r) { this.map[t(e)] = o(r) }, n.prototype.forEach = function (e, t) { for (var o in this.map) this.map.hasOwnProperty(o) && e.call(t, this.map[o], o, this) }, n.prototype.keys = function () { var e = []; return this.forEach(function (t, o) { e.push(o) }), r(e) }, n.prototype.values = function () { var e = []; return this.forEach(function (t) { e.push(t) }), r(e) }, n.prototype.entries = function () { var e = []; return this.forEach(function (t, o) { e.push([o, t]) }), r(e) }, g.iterable && (n.prototype[Symbol.iterator] = n.prototype.entries); var S = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; f.prototype.clone = function () { return new f(this, { body: this._bodyInit }) }, u.call(f.prototype), u.call(m.prototype), m.prototype.clone = function () { return new m(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new n(this.headers), url: this.url }) }, m.error = function () { var e = new m(null, { status: 0, statusText: "" }); return e.type = "error", e }; var E = [301, 302, 303, 307, 308]; m.redirect = function (e, t) { if (-1 === E.indexOf(t)) throw new RangeError("Invalid status code"); return new m(null, { status: t, headers: { location: e } }) }, e.Headers = n, e.Request = f, e.Response = m, e.fetch = function (e, t) { return fetchHttpUrl = e, new Promise(function (o, r) { var n = new f(e, t), i = new XMLHttpRequest; i.onload = function () { var e = { status: i.status, statusText: i.statusText, headers: y(i.getAllResponseHeaders() || "") }; e.url = "responseURL" in i ? i.responseURL : e.headers.get("X-Request-URL"); var t = "response" in i ? i.response : i.responseText; o(new m(t, e)) }, i.onerror = function () { console.error("Network request failed"), r(new TypeError("Network request failed")) }, i.ontimeout = function () { r(new TypeError("Network request failed")) }, i.open(n.method, n.url, !0), "include" === n.credentials && (i.withCredentials = !0), "responseType" in i && g.blob && (i.responseType = "blob"), n.headers.forEach(function (e, t) { i.setRequestHeader(t, e) }), i.send(void 0 === n._bodyInit ? null : n._bodyInit) }) }, e.fetch.polyfill = !0 }("undefined" != typeof self ? self : window) }]);